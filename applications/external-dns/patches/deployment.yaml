- op: replace
  path: /spec/replicas
  value: 1
- op: add
  path: /metadata/annotations
  value:
    operator.1password.io/item-path: "vaults/Example_Vault/items/example_item"
    operator.1password.io/item-name: "cloudflare_api_token"
- op: add
  path: /spec/template/spec/containers/0/env
  value:
    - name: EXTERNAL_DNS_POLICY
      value: upsert-only
    - name: EXTERNAL_DNS_PROVIDER
      value: cloudflare
    - name: EXTERNAL_DNS_DOMAIN_FILTER
      valueFrom:
        secretKeyRef:
          name: cloudflare-api-token
          key: zone_name
          optional: false
    - name: EXTERNAL_DNS_ZONE_ID_FILTER
      valueFrom:
        secretKeyRef:
          name: cloudflare-api-token
          key: zone_id
          optional: false
    - name: EXTERNAL_DNS_LOG_FORMAT
      value: json
    - name: EXTERNAL_DNS_LOG_LEVEL
      value: info
    - name: EXTERNAL_DNS_INTERVAL
      value: 1m
    - name: CF_API_TOKEN
      valueFrom:
        secretKeyRef:
          name: cloudflare-api-token
          key: password
          optional: false
- op: add
  path: /spec/template/spec/containers/0/resources
  value:
    limits:
      cpu: 50m
      memory: 50Mi
    requests:
      cpu: 10m
      memory: 50Mi
