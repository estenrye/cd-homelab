---
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: onepassword
  annotations:
    argocd.argoproj.io/sync-wave: "3"
spec:
  provider:
    onepassword:
      connectHost: https://example.infrastructure.rye.ninja
      vaults:
        Home_Lab: 1  # look in this vault first
#        shared: 2   # next look in here. error if not found
      auth:
        secretRef:
          connectTokenSecretRef:
            name: onepassword-token
            namespace: external-secrets-operator
            key: token